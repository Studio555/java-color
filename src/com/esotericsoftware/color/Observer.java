
package com.esotericsoftware.color;

import com.esotericsoftware.color.space.XYZ;

public class Observer {
	/** [2, 10] */
	public final int fov;
	/** Years. 0 for no age adjustment. */
	public final int age;
	/** x-bar color matching function, 380-780nm at 5nm intervals. */
	public float[] xbar;
	/** y-bar color matching function, 380-780nm at 5nm intervals. */
	public float[] ybar;
	/** z-bar color matching function, 380-780nm at 5nm intervals. */
	public float[] zbar;
	/** Ybar sum * 5nm. */
	public float ybarIntegral;
	public XYZ A, C, D50, D55, D65, D75, E, F2, F7, F11;

	public Observer (int fov) {
		this.fov = fov;
		this.age = 0;
	}

	// public Observer (int age, Observer base) {
	// this.age = age;
	// fov = base.fov;
	// xbar = new float[81];
	// ybar = new float[81];
	// zbar = new float[81];
	// // BOZO - Apply age adjustments.
	// }

	/** CIE 1931 2 degree standard observer. */
	static public final Observer CIE2_1931 = new Observer(2);
	static {
		CIE2_1931.xbar = new float[] {0.001368f, 0.002236f, 0.004243f, 0.00765f, 0.01431f, 0.02319f, 0.04351f, 0.07763f, 0.13438f,
			0.21477f, 0.2839f, 0.3285f, 0.34828f, 0.34806f, 0.3362f, 0.3187f, 0.2908f, 0.2511f, 0.19536f, 0.1421f, 0.09564f,
			0.05795001f, 0.03201f, 0.0147f, 0.0049f, 0.0024f, 0.0093f, 0.0291f, 0.06327f, 0.1096f, 0.1655f, 0.2257499f, 0.2904f,
			0.3597f, 0.4334499f, 0.5120501f, 0.5945f, 0.6784f, 0.7621f, 0.8425f, 0.9163f, 0.9786f, 1.0263f, 1.0567f, 1.0622f,
			1.0456f, 1.0026f, 0.9384f, 0.8544499f, 0.7514f, 0.6424f, 0.5419f, 0.4479f, 0.3608f, 0.2835f, 0.2187f, 0.1649f, 0.1212f,
			0.0874f, 0.0636f, 0.04677f, 0.0329f, 0.0227f, 0.01584f, 0.01135916f, 0.008110916f, 0.005790346f, 0.004109457f,
			0.002899327f, 0.00204919f, 0.001439971f, 0.000999949f, 0.000690079f, 0.000476021f, 0.000332301f, 0.000234826f,
			0.000166151f, 0.000117413f, 0.000083075f, 0.000058707f, 0.00004151f};
		CIE2_1931.ybar = new float[] {0.000039f, 0.000064f, 0.00012f, 0.000217f, 0.000396f, 0.00064f, 0.00121f, 0.00218f, 0.004f,
			0.0073f, 0.0116f, 0.01684f, 0.023f, 0.0298f, 0.038f, 0.048f, 0.06f, 0.0739f, 0.09098f, 0.1126f, 0.13902f, 0.1693f,
			0.20802f, 0.2586f, 0.323f, 0.4073f, 0.503f, 0.6082f, 0.71f, 0.7932f, 0.862f, 0.9148501f, 0.954f, 0.9803f, 0.9949501f, 1,
			0.995f, 0.9786f, 0.952f, 0.9154f, 0.87f, 0.8163f, 0.757f, 0.6949f, 0.631f, 0.5668f, 0.503f, 0.4412f, 0.381f, 0.321f,
			0.265f, 0.217f, 0.175f, 0.1382f, 0.107f, 0.0816f, 0.061f, 0.04458f, 0.032f, 0.0232f, 0.017f, 0.01192f, 0.00821f,
			0.005723f, 0.004102f, 0.002929f, 0.002091f, 0.001484f, 0.001047f, 0.00074f, 0.00052f, 0.0003611f, 0.0002492f, 0.0001719f,
			0.00012f, 0.0000848f, 0.00006f, 0.0000424f, 0.00003f, 0.0000212f, 0.00001499f};
		CIE2_1931.zbar = new float[] {0.006450001f, 0.01054999f, 0.02005001f, 0.03621f, 0.06785001f, 0.1102f, 0.2074f, 0.3713f,
			0.6456f, 1.0390501f, 1.3856f, 1.62296f, 1.74706f, 1.7826f, 1.77211f, 1.7441f, 1.6692f, 1.5281f, 1.28764f, 1.0419f,
			0.8129501f, 0.6162f, 0.46518f, 0.3533f, 0.272f, 0.2123f, 0.1582f, 0.1117f, 0.07824999f, 0.05725001f, 0.04216f, 0.02984f,
			0.0203f, 0.0134f, 0.008749999f, 0.005749999f, 0.0039f, 0.002749999f, 0.0021f, 0.0018f, 0.001650001f, 0.0014f, 0.0011f,
			0.001f, 0.0008f, 0.0006f, 0.00034f, 0.00024f, 0.00019f, 0.0001f, 0.00005f, 0.00003f, 0.00002f, 0.00001f, 0, 0, 0, 0, 0,
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};
		CIE2_1931.ybarIntegral = 106.85664f;
		CIE2_1931.A = new XYZ(109.85f, 100, 35.585f);
		CIE2_1931.C = new XYZ(98.074f, 100, 118.232f);
		CIE2_1931.D50 = new XYZ(96.422f, 100, 82.521f);
		CIE2_1931.D55 = new XYZ(95.682f, 100, 92.149f);
		CIE2_1931.D65 = new XYZ(95.047f, 100, 108.883f);
		CIE2_1931.D75 = new XYZ(94.972f, 100, 122.638f);
		CIE2_1931.E = new XYZ(100, 100, 100);
		CIE2_1931.F2 = new XYZ(99.187f, 100, 67.395f);
		CIE2_1931.F7 = new XYZ(95.044f, 100, 108.755f);
		CIE2_1931.F11 = new XYZ(100.966f, 100, 64.37f);
	}

	/** CIE 1964 10 degree standard observer. */
	static public final Observer CIE10_1964 = new Observer(10);
	static {
		CIE10_1964.xbar = new float[] {0.000159952f, 0.00066244f, 0.0023616f, 0.0072423f, 0.0191097f, 0.0434f, 0.084736f, 0.140638f,
			0.204492f, 0.264737f, 0.314679f, 0.357719f, 0.383734f, 0.386726f, 0.370702f, 0.342957f, 0.302273f, 0.254085f, 0.195618f,
			0.132349f, 0.080507f, 0.041072f, 0.016172f, 0.005132f, 0.003816f, 0.015444f, 0.037465f, 0.071358f, 0.117749f, 0.172953f,
			0.236491f, 0.304213f, 0.376772f, 0.451584f, 0.529826f, 0.616053f, 0.705224f, 0.793832f, 0.878655f, 0.951162f, 1.01416f,
			1.0743f, 1.11852f, 1.1343f, 1.12399f, 1.0891f, 1.03048f, 0.95074f, 0.856297f, 0.75493f, 0.647467f, 0.53511f, 0.431567f,
			0.34369f, 0.268329f, 0.2043f, 0.152568f, 0.11221f, 0.0812606f, 0.05793f, 0.0408508f, 0.028623f, 0.0199413f, 0.013842f,
			0.00957688f, 0.0066052f, 0.00455263f, 0.0031447f, 0.00217496f, 0.0015057f, 0.00104476f, 0.00072745f, 0.000508258f,
			0.00035638f, 0.000250969f, 0.00017773f, 0.00012639f, 0.000090151f, 0.000064526f, 0.000046339f, 0.000033412f};
		CIE10_1964.ybar = new float[] {0.000017364f, 0.00007156f, 0.0002534f, 0.0007685f, 0.0020044f, 0.004509f, 0.008756f,
			0.014456f, 0.021391f, 0.029497f, 0.038676f, 0.049602f, 0.062077f, 0.074704f, 0.089456f, 0.106256f, 0.128201f, 0.152761f,
			0.18519f, 0.21994f, 0.253589f, 0.297665f, 0.339133f, 0.395379f, 0.460777f, 0.53136f, 0.606741f, 0.68566f, 0.761757f,
			0.82333f, 0.875211f, 0.92381f, 0.961988f, 0.9822f, 0.991761f, 0.99911f, 0.99734f, 0.98238f, 0.955552f, 0.915175f,
			0.868934f, 0.825623f, 0.777405f, 0.720353f, 0.658341f, 0.593878f, 0.527963f, 0.461834f, 0.398057f, 0.339554f, 0.283493f,
			0.228254f, 0.179828f, 0.140211f, 0.107633f, 0.081187f, 0.060281f, 0.044096f, 0.0318004f, 0.0226017f, 0.0159051f,
			0.0111303f, 0.0077488f, 0.0053751f, 0.00371774f, 0.00256456f, 0.00176847f, 0.00122239f, 0.00084619f, 0.00058644f,
			0.00040741f, 0.000284041f, 0.00019873f, 0.00013955f, 0.000098428f, 0.000069819f, 0.000049737f, 0.00003554f, 0.000025486f,
			0.000018338f, 0.000013249f};
		CIE10_1964.zbar = new float[] {0.000704776f, 0.0029278f, 0.0104822f, 0.032344f, 0.0860109f, 0.19712f, 0.389366f, 0.65676f,
			0.972542f, 1.2825f, 1.55348f, 1.7985f, 1.96728f, 2.0273f, 1.9948f, 1.9007f, 1.74537f, 1.5549f, 1.31756f, 1.0302f,
			0.772125f, 0.57006f, 0.415254f, 0.302356f, 0.218502f, 0.159249f, 0.112044f, 0.082248f, 0.060709f, 0.04305f, 0.030451f,
			0.020584f, 0.013676f, 0.007918f, 0.003988f, 0.001091f, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};
		CIE10_1964.ybarIntegral = 116.67077f;
		CIE10_1964.A = new XYZ(111.144f, 100, 35.2f);
		CIE10_1964.C = new XYZ(97.285f, 100, 116.145f);
		CIE10_1964.D50 = new XYZ(96.72f, 100, 81.427f);
		CIE10_1964.D55 = new XYZ(95.799f, 100, 90.926f);
		CIE10_1964.D65 = new XYZ(94.811f, 100, 107.304f);
		CIE10_1964.D75 = new XYZ(94.416f, 100, 120.641f);
		CIE10_1964.E = new XYZ(100, 100, 100);
		CIE10_1964.F2 = new XYZ(103.28f, 100, 69.026f);
		CIE10_1964.F7 = new XYZ(95.792f, 100, 107.687f);
		CIE10_1964.F11 = new XYZ(103.866f, 100, 65.627f);
	}

	/** CIE 2015 2 degree standard observer (age 32). */
	static public final Observer CIE2_2015 = new Observer(2);
	static {
		CIE2_2015.xbar = new float[] {0.00376965f, 0.00376965f, 0.00376965f, 0.00938297f, 0.02214302f, 0.04742986f, 0.08953803f,
			0.1446214f, 0.2035729f, 0.2488523f, 0.2918246f, 0.3227087f, 0.3482554f, 0.3418483f, 0.3224637f, 0.2826646f, 0.2485254f,
			0.2219781f, 0.1806905f, 0.129192f, 0.08182895f, 0.04600865f, 0.02083981f, 0.00709773f, 0.00246159f, 0.00364918f,
			0.01556989f, 0.04315171f, 0.07962917f, 0.1268468f, 0.1818026f, 0.2405015f, 0.3098117f, 0.3804244f, 0.4494206f,
			0.5280233f, 0.6133784f, 0.7016774f, 0.796775f, 0.8853376f, 0.9638388f, 1.051011f, 1.109767f, 1.14362f, 1.151033f,
			1.134757f, 1.083928f, 1.007344f, 0.9142877f, 0.8135565f, 0.6924717f, 0.575541f, 0.4731224f, 0.3844986f, 0.2997374f,
			0.2277792f, 0.1707914f, 0.1263808f, 0.09224597f, 0.0663996f, 0.04710606f, 0.03292138f, 0.02262306f, 0.01575417f,
			0.01096778f, 0.00760875f, 0.00521461f, 0.00356945f, 0.00246482f, 0.00170388f, 0.00118624f, 0.00082695f, 0.00057583f,
			0.00040583f, 0.00028566f, 0.00020219f, 0.00014383f, 0.00010247f, 0.00007348f, 0.0000526f, 0.00003806f};
		CIE2_2015.ybar = new float[] {0.00041462f, 0.00041462f, 0.00041462f, 0.00105965f, 0.00245219f, 0.00497172f, 0.00907986f,
			0.01429377f, 0.02027369f, 0.02612106f, 0.03319038f, 0.0415794f, 0.05033657f, 0.05743393f, 0.06472352f, 0.07238339f,
			0.08514816f, 0.1060145f, 0.1298957f, 0.1535066f, 0.1788048f, 0.2064828f, 0.237916f, 0.285068f, 0.3483536f, 0.4277595f,
			0.5204972f, 0.6206256f, 0.718089f, 0.7946448f, 0.8575799f, 0.9071347f, 0.9544675f, 0.9814106f, 0.9890228f, 0.9994608f,
			0.9967737f, 0.9902549f, 0.9732611f, 0.9424569f, 0.8963613f, 0.8587203f, 0.8115868f, 0.7544785f, 0.6918553f, 0.6270066f,
			0.5583746f, 0.489595f, 0.4229897f, 0.3609245f, 0.2980865f, 0.2416902f, 0.1943124f, 0.1547397f, 0.119312f, 0.08979594f,
			0.06671045f, 0.04899699f, 0.03559982f, 0.02554223f, 0.01807939f, 0.01261573f, 0.00866128f, 0.00602768f, 0.00419594f,
			0.00291086f, 0.00199556f, 0.00136702f, 0.00094473f, 0.00065371f, 0.0004556f, 0.00031797f, 0.00022174f, 0.00015656f,
			0.00011039f, 0.00007827f, 0.00005579f, 0.00003982f, 0.0000286f, 0.00002051f, 0.00001487f};
		CIE2_2015.zbar = new float[] {0.0184726f, 0.0184726f, 0.0184726f, 0.04609784f, 0.109609f, 0.2369246f, 0.4508369f,
			0.7378822f, 1.051821f, 1.305008f, 1.552826f, 1.74828f, 1.917479f, 1.918437f, 1.848545f, 1.664439f, 1.522157f, 1.42844f,
			1.25061f, 0.9991789f, 0.7552379f, 0.5617313f, 0.4099313f, 0.3105939f, 0.2376753f, 0.1720018f, 0.1176796f, 0.08283548f,
			0.05650407f, 0.03751912f, 0.02438164f, 0.01566174f, 0.00984647f, 0.00613142f, 0.00379029f, 0.00232719f, 0.00143213f,
			0.00088225f, 0.00054524f, 0.00033867f, 0.00021178f, 0.0001335f, 0.00008494f, 0.00005461f, 0.0000355f, 0.00002335f,
			0.00001555f, 0.00001048f, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
			0};
		CIE2_2015.ybarIntegral = 113.047f;
	}

	/** CIE 2015 10 degree standard observer (age 32). */
	static public final Observer CIE10_2015 = new Observer(10);
	static {
		CIE10_2015.xbar = new float[] {0.00295242f, 0.00295242f, 0.00295242f, 0.00764114f, 0.01879338f, 0.04204986f, 0.08277331f,
			0.1395127f, 0.2077647f, 0.2688989f, 0.3281798f, 0.3693084f, 0.4026189f, 0.4042529f, 0.3932139f, 0.3482214f, 0.3013112f,
			0.2534221f, 0.1914176f, 0.1283167f, 0.0759312f, 0.0383677f, 0.01400745f, 0.00344681f, 0.00565207f, 0.01561956f,
			0.03778185f, 0.07538941f, 0.1201511f, 0.1756832f, 0.2380254f, 0.3046991f, 0.3841856f, 0.4633109f, 0.537417f, 0.6230892f,
			0.7123849f, 0.8016277f, 0.8933408f, 0.9721304f, 1.034327f, 1.106886f, 1.147304f, 1.160477f, 1.148163f, 1.113846f,
			1.048485f, 0.9617111f, 0.8629581f, 0.7603498f, 0.6413984f, 0.5290979f, 0.4323126f, 0.3496358f, 0.27149f, 0.2056507f,
			0.1538163f, 0.1136072f, 0.0828101f, 0.05954815f, 0.04221473f, 0.02948752f, 0.0202559f, 0.0141023f, 0.00981623f,
			0.00680915f, 0.0046663f, 0.00319404f, 0.00220557f, 0.00152467f, 0.00106149f, 0.00074001f, 0.00051531f, 0.0003632f,
			0.00025566f, 0.00018096f, 0.00012874f, 0.00009172f, 0.00006578f, 0.00004709f, 0.00003408f};
		CIE10_2015.ybar = new float[] {0.00040768f, 0.00040768f, 0.00040768f, 0.00107817f, 0.00258977f, 0.00547421f, 0.01041303f,
			0.01712968f, 0.02576133f, 0.03529554f, 0.04698226f, 0.06047429f, 0.07468288f, 0.08820537f, 0.103903f, 0.1195389f,
			0.1414586f, 0.1701373f, 0.1999859f, 0.2312426f, 0.2682271f, 0.3109438f, 0.3554018f, 0.4148227f, 0.4780482f, 0.5491344f,
			0.6248296f, 0.7012292f, 0.7788199f, 0.8376358f, 0.8829552f, 0.9233858f, 0.9665325f, 0.9886887f, 0.99075f, 0.9997775f,
			0.9944304f, 0.9848127f, 0.9640545f, 0.9286495f, 0.877536f, 0.8370838f, 0.786995f, 0.7272309f, 0.6629035f, 0.5970375f,
			0.5282296f, 0.4601308f, 0.3950755f, 0.3351794f, 0.2751807f, 0.2219564f, 0.1776882f, 0.1410203f, 0.1083996f, 0.08137687f,
			0.06033976f, 0.04425383f, 0.03211852f, 0.02302574f, 0.01628841f, 0.01136106f, 0.00779746f, 0.00542539f, 0.00377614f,
			0.00261937f, 0.00179559f, 0.00122998f, 0.00084999f, 0.00058814f, 0.00040989f, 0.00028607f, 0.00019949f, 0.00014085f,
			0.00009931f, 0.00007042f, 0.00005019f, 0.00003582f, 0.00002573f, 0.00001845f, 0.00001338f};
		CIE10_2015.zbar = new float[] {0.01318752f, 0.01318752f, 0.01318752f, 0.03424588f, 0.08508254f, 0.1927065f, 0.3832822f,
			0.6568187f, 0.9933444f, 1.308674f, 1.62494f, 1.867751f, 2.075946f, 2.132574f, 2.128264f, 1.946651f, 1.76844f, 1.582342f,
			1.310576f, 1.010952f, 0.7516389f, 0.5549619f, 0.3978114f, 0.2905816f, 0.2078158f, 0.1394643f, 0.08852389f, 0.05824484f,
			0.03784916f, 0.02431375f, 0.01539505f, 0.009753f, 0.00608322f, 0.00376934f, 0.00232358f, 0.00142663f, 0.00087793f,
			0.00054084f, 0.00033424f, 0.00020761f, 0.00012982f, 0.00008184f, 0.00005207f, 0.00003347f, 0.00002176f, 0.00001431f,
			0.00000953f, 0.00000643f, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
			0};
		CIE10_2015.ybarIntegral = 118.52273f;
	}

	/** The observer to use by default for methods where an observer is not specified. Change as needed. Defaults to
	 * {@link #CIE2_2015}. */
	static public Observer Default = CIE2_1931;
}
